<!DOCTYPE html>
<html>
    <head>
        <title>Women's script generator</title>
        <script src="https://polyfill.io/v3/polyfill.min.js?features=HTMLCanvasElement.prototype.toBlob"></script>
        <script src="alethi.js"></script>
        <link rel="stylesheet" href="style.css"/>
        <link rel="shortcut icon" href="favicon.png">
    </head>
    <body>
        <h1>Women's Script</h1>
        <p>
            Turn text into
            <a href="https://coppermind.net/wiki/Women%27s_script">women's script</a>
            from The Stormlight Archive.
        </p>
        <p id="IEWarning">
            This site will not work in Internet Explorer.
            Please use a modern browser such as Chrome, Firefox, or Edge.
        </p>
        <textarea id="sourceText"></textarea>
        <div class="hidden">
            <svg id="drawingArea"></svg>
        </div>
        <img id="outputImage"/>
        <details>
            <summary>Formatting</summary>
            <div class="customisation">
                <input type="color" value="#000000" id="fgColourPicker">
                <label for="fgColourPicker">Text colour</label>
                <input type="color" value="#ffffff" id="bgColourPicker">
                <label for="bgColourPicker">Background colour</label>
                <input type="checkbox" id="transparentBgCheckbox">
                <label for="transparentBgCheckbox">Transparent background</label>

                <input type="radio" name="align" value="left" id="leftAlignCheckbox">
                <label for="leftAlignCheckbox">Left align text</label>
                <input type="radio" name="align" value="center" id="centerAlignCheckbox" checked>
                <label for="centerAlignCheckbox">Center align text</label>
                <input type="radio" name="align" value="right" id="rightAlignCheckbox">
                <label for="rightAlignCheckbox">Right align text</label>

                <input type="number" value="10" id="italicsAngleInput">
                <label for="italicsAngleInput">Italics angle</label>

                <input type="number" value="1" id="strokeWidthInput">
                <label for="strokeWidthInput">Stroke width</label>
                <input type="number" value="1" id="scaleInput">
                <label for="scaleInput">Scale</label>

                <input type="checkbox" id="autoHeightMarkCheckbox" checked>
                <label for="autoHeightMarkCheckbox">Auto height markers</label>

                <input type="radio" name="format" value="png" id="pngFormatCheckbox" checked>
                <label for="pngFormatCheckbox">PNG image format</label>
                <input type="radio" name="format" value="svg" id="svgFormatCheckbox">
                <label for="svgFormatCheckbox">SVG image format</label>
            </div>
        </details>
        <details>
            <summary>Substitutions</summary>
            <p>
                If there are words or (groups of) characters that do not map directly to sounds of womens script symbols you can enter custom substitutions here.
                Examples of this include words with silent letters (queue),
                letters that together make a single sound (the c and k in luck or muck which just make one k sound),
                and characters that don't have a separate womens script symbol (c should be treated as k).
            </p>
            <p>
                The available womens script symbols are: <span class="symbolList"></span>
            </p>
            <div class="substitutions">
                <h3>Word substitutions</h3>
                <p>
                    On each line enter a word, followed by a space, then the womens script symbols it should be replaced with.
                </p>
                <textarea id="wordSubstitutionText"></textarea>
                <p id="wordSubstitutionError" class="error"></p>
                <button id="resetWordSubstitutionButton">Restore default word substitutions</button>
                <h3>Character substitutions</h3>
                <p>
                    On each line enter a series of characters, followed by a space, then the womens script symbols they should be replaced with.
                    These replacements will take place in any text not already replaced by a word substitution.
                </p>
                <textarea id="charSubstitutionText"></textarea>
                <p id="charSubstitutionError" class="error"></p>
                <button id="resetCharSubstitutionButton">Restore default character substitutions</button>
            </div>
        </details>
        <details>
            <summary>Symbols</summary>
            <div id="symbolDisplay"></div>
        </details>
        <details>
            <summary>About</summary>
            <p>
                Women's script is made of symbols that represent sounds.
                The known symbols correspond to the following letters/sounds in english:
                "A", "B", "CH", "D", "E", "F", "G", "H", "I", "J", "K", "L", "M", "N", "O", "P", "R", "S", "SH", "T", "TH", "U", "V", "Y", "Z".
                This leaves out the letters "C" and "Q" which are replaced with "K",
                "W" which is replaced with "U", and "X" which is replaced with "KS".
            </p>
            <p>
                There are dedicated symbols for the "CH", "SH", and "TH" sounds.
                To generate script with the symbols for their component
                letters sounds next to each other, add a character between them that
                has no corresponding women's script symbol, such as a dash "-" or backslash "\".
            </p>
            <p>
                There is one known punctuation symbol in Women's script,
                a line height marker which is often added at the start of a paragraph.
                This generator will by default add them automatically at the start of
                text and after a blank line, but you can insert one manually by
                typing the vertical line/pipe symbol "|" or a closing square bracket
                followed by an opening one "][".
            </p>
        </details>
    </body>
</html>
